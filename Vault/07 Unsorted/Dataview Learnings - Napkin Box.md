---
created: 2024-06-28T01:21:28
source: https://publish.obsidian.md/
author: 
banner: 
cssclasses:
  - dashboard
  - obsidian-banner
  - center-titles
  - center-images

---

```meta-bind-button
label: Fold All
icon: ""
hidden: false
class: ""
tooltip: ""
id: "001"
style: primary
actions:
  - type: command
    command: editor:fold-all

```

```meta-bind-button
label: Un-Fold All
icon: ""
hidden: false
class: ""
tooltip: ""
id: "002"
style: primary
actions:
  - type: command
    command: editor:unfold-all

```

```cardlink
url: https://publish.obsidian.md/
title: "Dataview Learnings - Napkin Box - Obsidian Publish"
description: "Dataview Learnings - 餐巾纸盒子 - Powered by Obsidian Publish."
host: publish.obsidian.md
image: 
```
## `dv.paragraph`Embedded Problems

`![[.md|Dataview Learnings - Napkin Box]]`Embedded pages `dv.paragraph`will not display properly; this is a problem with the Obsidian API. Normal links can be displayed successfully. (It can display external network links and local absolute links)

## 

do not forget`.file`

`dv.page`Both `dv.pages`return data structures that are specific to DV and *do not* actually include data that users usually care about. Instead, they need to be added `.file`to obtain the actual data structure containing file information.

```
dv.paragraph("正确的访问方式输出的结果：" + dv.current().file.name);<font></font>
dv.paragraph("错误的访问方式输出的结果：" + dv.current().name);<font></font>
```

## 

Time Type

Although the time returned by dv can be `dv.paragraph`output, it is not a string, but [[https://moment.github.io/luxon/#/tour?id=your-first-datetime]] . Therefore, if you rashly add, subtract, and compare without knowing the object type, it is easy to cause problems. Therefore, if you want to compare a dv built-in time object with a string such as a diary file name, you need to consider type conversion.

```
dv.paragraph("表面上看的dv时间信息：" + dv.current().file.ctime);<font></font>
dv.paragraph("强行cast成字符串的dv时间信息：" + dv.current().file.ctime);<font></font>
dv.paragraph("相同日期的Luxon时间和字符串相等判断：" + (luxon.DateTime("2020-05-06") == "2020-05-06"));<font></font>
```

Unlike strongly typed languages, you won’t get an error when you subtract mismatched data types.

```
dv.paragraph("一个普通的Date对象和一个dv时间对象相减：" + (Date("2021-05-06") - dv.current().file.cday));
```

So when using it for sorting, be careful not to use this type of mismatched time difference.

## 

Properties of link types in Dv

```
var link = dv.current().file.outlinks[0];<font></font>
dv.paragraph(Object.getOwnPropertyNames(link));<font></font>
dv.paragraph("Path: " + link.path);<font></font>
dv.paragraph("Embed: " + link.embed);<font></font>
dv.paragraph("Display: " + link.display);<font></font>
dv.paragraph("Type: " + link.type);<font></font>
```

In addition to the above attributes, when link is forced to be cast to a string, it is `[[{path}|{display name}]]`a formatted string.

## 

Date and time in custom attributes

If the properties written by the user in YAML are presented in the time/date format, such as

```
---<font></font>
review: 2021-09-22<font></font>
---<font></font>
```

Then when using dv to search, `review`it will actually be converted into a time object and can no longer be compared as a string: For example, when filtering, you need to do this:  
`LIST FROM "" WHERE review = date("2021-09-22")`instead of `LIST FROM "" WHERE review = "2021-09-22"`.

## 

Other Tips

-   `file.day`This is equivalent to `date(file.name)`trying to read the date in the file name. If it cannot be read, it will be empty. This applies to both DV and DVJS.
    
-   `date(now)`Can be used to select the current time in DV.
    
-   `dv.current()`Refers to the current file; for example `dv.current().file.name`, the current file name.
    
-   DV: `FROM [[#]]`is a special source abbreviation, which means "select all files that link to this article as sources". Conversely, `FROM outgoing([[#]])`it means "select all link targets of this article as sources"
    

## 

`contains`

`contains`When processing string arrays, no equality comparison is performed, but a substring search is performed.

> `contains(["abc"], "ab"])` returns `true`

To perform a congruent comparison, you need to use `econtains`.

## 

`if`

When using `if`existence checks, for example `if (dv.pages("asdfasd").someField)`, please note that even if a DataArray object is empty, the existence check is still valid `true`.

## 

One-way links

  
The links generated by Dataview do not actually exist, so they will not be counted in the backlinks of the file.

```
`=[[some file]]`
```

Links to this page

[DataviewJS - From Getting Started to Quitting Extra 01](https://publish.obsidian.md/napkinium/Ideas/Dataview/Learnings/DataviewJS+-+%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E9%80%80%E5%9D%91+%E7%95%AA%E5%A4%96+01)

[Index](https://publish.obsidian.md/napkinium/Index)

[Index](https://publish.obsidian.md/napkinium/Publish/Index)
> 